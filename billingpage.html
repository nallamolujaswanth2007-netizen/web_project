<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Ultra-Pro Billing ‚Äî Remote Internship Manager</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

  <style>
    /* Keep your previous styles unchanged */
    body { font-family: Inter, system-ui, Arial; color: #e6eef6; background: linear-gradient(180deg,#071024 0%, #081827 100%); }
    header { background-color: #1e3a8a; color: white; text-align: center; padding: 15px 0; font-size: 24px; font-weight: bold; letter-spacing: 1px; }
    .app { display:grid; grid-template-columns:260px 1fr; gap:24px; padding:22px; }
    .sidebar { background:#0b1220; border-radius:12px; padding:18px; color:#cfe7ff; height:calc(100vh - 44px); position:sticky; top:22px; }
    input, select, button { border-radius:8px; padding:8px; background:transparent; color:inherit; border:1px solid rgba(255,255,255,0.04); }
    .card { background:#0f1724; padding:14px; border-radius:10px; }
    table { width:100%; border-collapse: collapse; color:#dceffa; }
    th, td { padding:8px; text-align:left; border-bottom:1px dashed rgba(255,255,255,0.02); } :root
    {--bg:#0f1724;
      --card:#0b1220;
      --muted:#9aa6b2;
      --accent:#4f46e5;
      --accent-2:#06b6d4;
      --glass: rgba(255,255,255,0.03)
    }
    *{
      box-sizing:border-box
    }
    body
    {
      margin:0;
      font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;
      color:#e6eef6;
      background:linear-gradient(180deg,#071024 0%, #081827 100%);
      min-height:100vh
    }
    .app
    {
      display:grid;
      grid-template-columns:260px 1fr;
      gap:24px;
      padding:22px
    }
    @keyframes fadeIn 
    {
      from {opacity: 0; transform: translateY(10px);}
      to {opacity: 1; transform: translateY(0);}
    }
    .sidebar
    {
      background:var(--card);
      border-radius:12px;
      padding:18px;
      color:#cfe7ff;
      height:calc(100vh - 44px);
      position:sticky;
      top:22px;

    }
    .brand
    {
      display:flex;
      gap:12px;
      align-items:center;
      margin-bottom:18px
    }
    .logo
    {
      width:42px;
      height:42px;
      border-radius:10px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700}
    nav a
    {
      display:flex;
      gap:10px;
      align-items:center;
      padding:10px;
      border-radius:8px;
      color:inherit;
      text-decoration:none;
      margin-bottom:6px
    }
    nav a:hover
    {
      background:var(--glass)
    }
    .search
    {
      display:flex;
      margin-bottom:12px
    }
    .search input
    {
      flex:1;
      padding:8px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.03);
      background:transparent;
      color:inherit
    }

    .main
    {
      padding:18px
    }
    
    @keyframes slideIn
   {
      from {opacity: 0; transform: translateY(10px);}
      to {opacity: 1; transform: translateY(0);}
    }

    .topbar
    {
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:18px
    }
    .cards
    {
      display:flex;
      gap:14px;
      margin-bottom:18px
    }
    .card
    {
      flex:1;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:14px;
      border-radius:10px
    }
    .card h3
    {
      margin:0 0 8px 0;
      font-size:14px;
      color:var(--muted)
    }
    .card .value
    {
      font-size:22px;
      font-weight:700
    }

    .grid
    {
      display:grid;
      grid-template-columns:2fr 1fr;
      gap:14px
    }
     .card:hover {
      transform: translateY(-4px);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
    }

    .panel
    {
      background:var(--card);
      padding:14px;
      border-radius:10px
    }
    table
    {
      width:100%;
      border-collapse:collapse;
      color:#dceffa
    }
    th,td
    {
      padding:8px;
      text-align:left;
      border-bottom:1px dashed rgba(255,255,255,0.02)
    }
    th
    {
      color:var(--muted);
      font-size:13px
    }

    .btn
    {
      display:inline-block;
      padding:8px 10px;
      border-radius:8px;
      background:var(--accent);
      color:white;
      text-decoration:none;
      border:none;
      cursor:pointer
    }
    .btn.secondary
    {
      background:transparent;
      border:1px solid rgba(255,255,255,0.06)
    }

    .submission
    {
      display:flex;
      align-items:center;
      gap:12px
    }
    .avatar
    {
      width:44px;
      height:44px;
      border-radius:8px;
      background:linear-gradient(180deg,#1f2937,#0f1724);
      display:flex;
      align-items:center;
      justify-content:center
    }

    .rubric
    {
      display:grid;
      gap:8px
    }
    .rubric .row
    {
      display:flex;
      justify-content:space-between;
      align-items:center
    }
    input[type=range]
    {
      width:100%
    }

    /* responsive */
    @media (max-width:880px)
    {
      .app
      {
        grid-template-columns:1fr;
        padding:12px
      }
      .sidebar
      {
        position:relative;
        height:auto
      }
      .grid
      {
        grid-template-columns:1fr
      }
      .cards
      {
        flex-direction:column
      }
    }

    /* small helpers */
    .muted
    {
      color:var(--muted)
    }
    .pill
    {
      padding:6px 8px;
      background:rgba(255,255,255,0.03);
      border-radius:999px;
      font-size:12px
    }
    .progress
    {
      height:10px;
      background:rgba(255,255,255,0.03);
      border-radius:999px;
      overflow:hidden
    }
    .progress > i
    {
      display:block;
      height:100%;
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      width:40%
    }
    .empty
    {
      color:#6b7280;
      text-align:center;
      padding:36px
    }
    /* responsive */
    @media (max-width: 880px) {
      .app { grid-template-columns: 1fr; padding: 12px; }
      .sidebar { position: relative; height: auto; }
      .grid { grid-template-columns: 1fr; }
      .cards { flex-direction: column; }
    }

    #toast {
      position: fixed;
      right: 18px;
      bottom: 18px;
      display: none;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      padding: 10px 14px;
      border-radius: 8px;
      color: white;
      font-weight: 500;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      animation: fadeIn 0.3s;
    }
     header {
      background-color: #1e3a8a;
      color: white;
      text-align: center;
      padding: 15px 0;
      font-size: 24px;
      font-weight: bold;
      letter-spacing: 1px;
     }
  </style>
</head>
<body>
  <header>Billing ‚Ä¢ Remote Internship Manager</header>
  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">JK</div>
        <div>
          <div style="font-weight:700">Jungkook</div>
          <div class="muted" style="font-size:13px">Front-end Internship</div>
        </div>
      </div>
      <div class="search"><input id="search" placeholder="Search interns, tasks..."/></div>
      <nav>
        <a href="dashboard.html" data-route="dashboard">üè† Dashboard</a>
        <a href="interns.html" data-route="interns">üë• Interns</a>
        <a href="assignments.html" data-route="assignments">üóÇ Assignments</a>
        <a href="evaluations.html" data-route="evaluations">üìù Evaluations</a>
        <a href="messages.html">‚úâ Messages</a>
        <a href="calendar.html">üìÖ Calendar</a>
        <a href="settings.html" data-route="settings">‚öôÔ∏è Settings</a>
        <a href="#">üí≥Payments</a>
      </nav>
      <div style="position:absolute;bottom:22px;left:18px;right:18px;font-size:13px;color:var(--muted)">Version 1.0 ‚Ä¢ Demo</div>
    </aside>


    <div class="card">
      <h3>Invoice Editor</h3>
      <div style="display:grid;grid-template-columns:1fr 160px;gap:8px">
        <input id="clientName" placeholder="Client/Intern Name" />
        <input id="clientEmail" placeholder="Client Email" />
      </div>

      <div style="display:flex;gap:8px;margin-top:8px">
        <input id="invoiceNo" placeholder="Invoice #" />
        <input id="invoiceDate" type="date" />
      </div>

      <div style="margin-top:10px">
        <h4>Items</h4>
        <div style="display:grid;grid-template-columns:1fr 120px 80px 120px;gap:8px">
          <input id="itemDesc" placeholder="Description" />
          <input id="itemUnitPrice" type="number" placeholder="Unit ‚Çπ" />
          <input id="itemQty" type="number" placeholder="Qty" />
          <select id="itemUnit"><option>module</option><option>hour</option><option>license</option></select>
        </div>
        <div style="display:flex;gap:8px;margin-top:8px">
          <input id="itemTax" type="number" placeholder="Tax (%)" value="18" style="width:120px" />
          <input id="itemDiscount" type="number" placeholder="Discount (‚Çπ)" style="width:160px" />
          <button id="addItemBtn">Add item</button>
        </div>

        <div style="margin-top:12px">
          <table id="itemsTable">
            <thead><tr><th>Description</th><th>Unit ‚Çπ</th><th>Qty</th><th>Tax%</th><th>Discount</th><th>Line ‚Çπ</th><th></th></tr></thead>
            <tbody></tbody>
          </table>
        </div>

        <div style="display:flex;justify-content:flex-end;gap:8px;margin-top:12px">
          <button id="generatePDF">Generate PDF</button>
          <button id="downloadXLS">Export XLSX</button>
        </div>

        <div style="margin-top:12px">
          <h4>Summary</h4>
          <div style="color:#9aa6b2;">Subtotal: <span id="subtotal">‚Çπ0</span></div>
          <div style="color:#9aa6b2;">Tax Total: <span id="taxTotal">‚Çπ0</span></div>
          <div style="color:#9aa6b2;">Discount Total: <span id="discountTotal">‚Çπ0</span></div>
          <div style="font-weight:700;margin-top:6px">Grand Total: <span id="grandTotal">‚Çπ0</span></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const tbody = document.querySelector('#itemsTable tbody');
    let items = [];

    function uid(){ return 'id-'+Math.random().toString(36).slice(2,9); }

    document.getElementById('addItemBtn').addEventListener('click', ()=>{
      const desc = document.getElementById('itemDesc').value.trim();
      const price = Number(document.getElementById('itemUnitPrice').value);
      const qty = Number(document.getElementById('itemQty').value);
      const tax = Number(document.getElementById('itemTax').value);
      const discount = Number(document.getElementById('itemDiscount').value);
      const unit = document.getElementById('itemUnit').value;
      if(!desc || price<=0 || qty<=0){ alert('Enter description, price, and qty'); return; }
      items.push({id: uid(), desc, price, qty, tax, discount, unit});
      renderItems();
      clearInputs();
    });

    function clearInputs(){
      document.getElementById('itemDesc').value='';
      document.getElementById('itemUnitPrice').value='';
      document.getElementById('itemQty').value='';
      document.getElementById('itemDiscount').value='';
      document.getElementById('itemTax').value='18';
    }

    function renderItems(){
      tbody.innerHTML='';
      items.forEach(it=>{
        const lineTotal = it.price*it.qty + it.price*it.qty*(it.tax/100) - (it.discount||0);
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${it.desc}</td><td>${it.price.toFixed(2)}</td><td>${it.qty} ${it.unit}</td>
                        <td>${it.tax}%</td><td>${it.discount||0}</td><td>${lineTotal.toFixed(2)}</td>
                        <td><button data-id="${it.id}">Remove</button></td>`;
        tbody.appendChild(tr);
      });
      document.querySelectorAll('button[data-id]').forEach(b=>{
        b.addEventListener('click', e=>{
          const id = e.target.dataset.id;
          items = items.filter(x=> x.id!==id);
          renderItems();
        });
      });
      updateSummary();
    }

    function updateSummary(){
      let subtotal=0, taxTotal=0, discountTotal=0;
      items.forEach(it=>{
        const net = it.price*it.qty;
        subtotal += net;
        taxTotal += net*(it.tax/100);
        discountTotal += it.discount||0;
      });
      document.getElementById('subtotal').innerText = '‚Çπ'+subtotal.toFixed(2);
      document.getElementById('taxTotal').innerText = '‚Çπ'+taxTotal.toFixed(2);
      document.getElementById('discountTotal').innerText = '‚Çπ'+discountTotal.toFixed(2);
      document.getElementById('grandTotal').innerText = '‚Çπ'+(subtotal+taxTotal-discountTotal).toFixed(2);
    }

    document.getElementById('generatePDF').addEventListener('click', async ()=>{
      if(!items.length){ alert('Add items'); return; }
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.text('Invoice', 20, 20);
      doc.text('Client: '+document.getElementById('clientName').value, 20, 30);
      doc.text('Email: '+document.getElementById('clientEmail').value, 20, 40);
      let y=50;
      items.forEach(it=>{
        doc.text(`${it.desc} - ${it.qty} ${it.unit} @‚Çπ${it.price}`, 20, y);
        y+=10;
      });
      doc.save((document.getElementById('invoiceNo').value||'invoice')+'.pdf');
    });

    document.getElementById('downloadXLS').addEventListener('click', ()=>{
      if(!items.length){ alert('Add items'); return; }
      const wb = XLSX.utils.book_new();
      const data = [['Description','Unit ‚Çπ','Qty','Tax%','Discount','LineTotal']];
      items.forEach(it=>{
        const lineTotal = it.price*it.qty + it.price*it.qty*(it.tax/100) - (it.discount||0);
        data.push([it.desc, it.price, it.qty, it.tax, it.discount||0, lineTotal]);
      });
      const ws = XLSX.utils.aoa_to_sheet(data);
      XLSX.utils.book_append_sheet(wb, ws, 'Invoice');
      XLSX.writeFile(wb, (document.getElementById('invoiceNo').value||'invoice')+'.xlsx');
    });

    document.getElementById('invoiceNo').value = 'INV-'+Date.now().toString().slice(-6);
    document.getElementById('invoiceDate').value = new Date().toISOString().split('T')[0];
  </script>
</body>
</html>
